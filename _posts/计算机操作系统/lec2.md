---
title: lec2
date: 2023-03-11 21:08:38
top: 2
categories: 
- 计算机操作系统
---

#### 4.4中断和异常的区别：

中断的引入，是为了支持CPU和设备之间的并行操作，异常的引入是表示CPU执行指令时本身出现了问题。
而在中断处理中，同步和异步通常被用来描述**中断处理程序**和**中断源**之间的交互方式。
区别：**中断源与中断处理程序是否相互独立**
**同步中断**是指由计算机内部的事件触发的中断，如时钟中断或I/O操作完成中断。这些中断需要**时钟来定时触发**，以确保它们在正确的时间发生。**在同步中断中，中断处理程序会在中断源被触发后立即执行，中断源会等待中断处理程序执行完成后再继续执行。**
**异步中断**是指由计算机外部事件触发的中断，如用户键盘输入或网络数据包到达。虽然这些事件**不需要时钟来发生**，但是一旦发生，计算机需要使用时钟来处理它们，以确保中断被处理的顺序是正确的。因此，即使异步中断本身不需要时钟，计算机系统在处理这些中断时仍然需要时钟。**在异步中断中，中断处理程序的执行是与中断源的执行相互独立的，中断源不会等待中断处理程序执行完成后再继续执行。**
#### 5.4中断源:自愿性中断

处理器执行**陷入指令**请求OS服务引起，操作系统中又叫做**系统调用**

自愿即程序执行到该部分需要主动请求中断，以调用其他服务



#### 6.4陷阱与系统陷阱

**"陷阱"**是一种**人为设置的中断**，通常用于指令执行的异常处理。当CPU执行到一个陷阱指令时，会停止正常的指令流程，并转向处理异常的程序。陷阱可以用于实现系统调用、处理硬件故障、以及在操作系统内核中实现调试器等功能。

**"系统陷阱"**是指在执行指令时，由硬件或软件触发的中断。系统陷阱的处理是由操作系统内核负责的，它们通常**用于执行一些特权操作**，例如文件系统访问、进程管理、内存管理等。当出现系统陷阱时，CPU会立即跳转到操作系统内核中的相应处理程序，执行必要的操作，然后返回到原始执行流程。

**虚拟地址异常**虚拟地址异常通常发生在**计算机试图访问不存在的内存页面**时。在这种情况下，**操作系统通常会分配新的内存页面，并重新执行指令**

#### 10.1进程印象的用户栈和核心栈

**用户栈**在用户态使用，调用普通函数或内核函数保存信息
**核心栈**用在处于内核模式时保存相关信息，相当于属于核心模式的用户栈
